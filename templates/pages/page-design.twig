{% extends 'templates/base.twig' %}
{% set displaySidebar = true %}

{% block content %}

    {% for post in posts %}
	<figure class="gallery__banner">

		<img src="{{ post.thumbnail.src('thumbnail') }}"
			 width="{{ post.thumbnail.width }}" height="{{ post.thumbnail.height }}"
			 alt="{{ post.thumbnail.alt }}"
			 class="gallery__banner--image"
			 srcset="{{ post.thumbnail.src('medium') }} 500w,
					 {{ post.thumbnail.src('large') }} 1000w,
					 {{ post.thumbnail.src('full') }} 1500w"
			 sizes="(max-width: {{ post.thumbnail.width }}px) 100vw, {{ post.thumbnail.width }}px"/>

		<figcaption class="gallery__banner--title">
			<h2>{{ post.title }}</h2>
		</figcaption>

		<a href="#contact" class="gallery__banner--contact btn">{% include '/assets/images/icons/arrow-left.svg' %} Contact</a>

	</figure>
    {% endfor %}

	<div class="gallery__filter">
		<form class="arrays get-faded" id="featured_project_filter">
			<ul class="array array__roles" role="group" aria-labelledby="array_1">
				<li class="array__item">
					<button type="button" id="array_1" class="array__filter array__title" role="button" data-filter="all">
						<span class="array__title--before">All</span> Role<span class="array__title--before">s</span><span class="array__title--after">:</span>
					</button>
				</li>
				<li class="array__item">
					<button type="button" class="array__filter" role="button" data-toggle=".role-designer">Designer</button>
				</li>
				<li class="array__item">
					<button type="button" class="array__filter" role="button" data-toggle=".role-developer">Developer</button>
				</li>
			</ul>
			<ul class="array array__category" role="group" aria-labelledby="array_2">
				<li class="array__item">
					<button type="button" id="array_2" class="array__filter array__title" role="button" data-filter="all">
						<span class="array__title--before">All</span> Type<span class="array__title--before">s</span><span class="array__title--after">:</span>
					</button>
				</li>
				<li class="array__item">
					<button type="button" class="array__filter" role="button" data-toggle=".job_type-freelance">Freelance</button>
				</li>
				<li class="array__item">
					<button type="button" class="array__filter" role="button" data-toggle=".job_type-agency">Agency</button>
				</li>
				<li class="array__item">
					<button type="button" class="array__filter" role="button" data-toggle=".job_type-inhouse">In-house</button>
				</li>
				<li class="array__item">
					<button type="button" class="array__filter" role="button" data-toggle=".job_type-personal">Personal</button>
				</li>
			</ul>
		</form>
	</div>

	{#{% if gallery %}#}
	{% if projects %}
	<section id="gallery" class="gallery__grid">

		{% for project in projects %}

		<div id="proj_id_{{ project.id }}" class="gallery__project parallax mix {{ project.post_class }}">

			<div class="gallery__project--content get-faded">

				{% if project.get_field('project_header') %}
				<div class="gallery__project--excerpt">
					{{ project.get_field('project_header').subtitle }}
				</div>
				{% endif %}

				<h2 class="gallery__project--header">
					<a href="{{ project.link }}">{{ project.title }}</a>
				</h2>
				<a href="{{ project.link }}" class="gallery__project--link">See Project</a>
			</div>

			<img src="{{ project.thumbnail.src }}"
				 width="{{ project.thumbnail.width }}"
				 height="{{ project.thumbnail.height }}"
				 alt="{{ project.thumbnail.alt }}"
				 class="gallery__project--image parallax__image"
				 srcset="{{ project.thumbnail.src('medium') }} 500w,
						 {{ project.thumbnail.src('large') }} 1000w,
						 {{ project.thumbnail.src('full') }} 1500w"
				 sizes="(max-width: {{ project.thumbnail.width }}px) 100vw, {{ project.thumbnail.width }}px" />

		</div>

		{% endfor %}
	</section>
	{% endif %}

	{% for post in posts %}
	<article class="gallery__content get-faded wysiwyg">
		{{ post.content }}
	</article>
	{% endfor %}

{% endblock %}

{% block sidebar %}
	{% include 'blocks/sidebar.twig' %}
{% endblock %}
