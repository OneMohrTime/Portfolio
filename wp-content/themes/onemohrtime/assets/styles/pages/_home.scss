/*
* === HOME ===
*/

.homepage {
	
	// .homepage__swipers moved to /components/_swiper.scss
	
	&__intro {
		// .homepage__intro
		background: $color__yellow;
		background-image: linear-gradient(to top, $color__yellow, transparent), url("https://raw.github.com/Magnus-G/texture-mixin/gh-pages/textures/inverted/chruch.png");
		@include paragraph();
		text-align: center;
		font-weight: 700;
		min-height: 75vh;
		@include padding($gutter);
		@include media(">=screen768")  { @include padding($gutter * 2 $gutter * 4); }
		@include media(">=screen1024") { @include padding($gutter * 3 $gutter * 6); }
		@include media(">=screen1440") { @include padding($gutter * 4 $gutter * 8); }
		
		@supports (display: flex) {
			display: flex;
			flex-flow: column wrap;
			justify-content: center;
			align-items: center;
		}
	}
	
	&__work {
		// .homepage__work
		background: linear-gradient(to bottom, $color__yellow, $color__yellow--light 66%, $color__white);
		color: $color__black;
		width: 100%;
		padding: $gutter * 2 $gutter;
		@include media(">=screen540") {
			padding-top: $gutter * 3;
		}
		@include media(">=screen768") {
			padding-top: $gutter * 4;
			padding-left: $gutter * 2;
			padding-right: $gutter * 2;
		}
		@include media(">=screen1024") {
			padding-top: $gutter * 5;
			padding-left: $gutter * 3;
			padding-right: $gutter * 3;
		}
		@include media(">=screen1280") {
			padding-top: $gutter * 6;
		}
		@include media(">=screen1440") {
			padding-top: $gutter * 7;
		}
		@include media(">=screen1920") {
			padding-top: $gutter * 8;
		}
		
		@supports (display: grid) {
			grid-column: span 4;
			width: auto;
		}
	}
	
	&__portfolio {
		// .homepage__portfolio
		background-color: $color__yellow;
		width: 100%;
		padding-top: $gutter;
		@supports (display: grid) {
			grid-column: span 4;
			width: auto;
		}
		@include media(">=screen400") {
			display: flex;
			flex-wrap: wrap;
			padding-left: $gutter / 2;
			padding-right: $gutter / 2;
		}
		@include media(">=screen768") {
			padding: $gutter * 2 $gutter;
		}
		@include media(">=screen960") {
			padding-left: $gutter * 2;
			padding-right: $gutter * 2;
		}
		@include media(">=screen1440") {
			padding-left: $gutter * 3;
			padding-right: $gutter * 3;
		}
		
		.feature {
			position: relative;
			display: block;
			background: linear-gradient(to bottom right, $color__white 85%, $color__white--dark);
			color: $color__black;
			@include box-shadow();
			@include small-font-size();
			margin: 0 $gutter $gutter;
			padding: $gutter;
			transition: background $speed, color $speed, box-shadow $speed;
			@include media(">=screen400") {
				flex: 0 0 calc(50% - #{$gutter});
				max-width: calc(50% - #{$gutter});
				margin-left: $gutter / 2;
				margin-right: $gutter / 2;
			}
			@include media(">=screen768") {
				flex-basis: calc(33.33% - #{$gutter});
				max-width: calc(33.33% - #{$gutter});
			}
			@include media(">=screen1440") {
				padding: $gutter;
				margin-left: $gutter;
				margin-right: $gutter;
			}
			
			&:hover,
			&:focus {
				// .feature:hover
				// .feature:focus
				background: transparent;
				color: $color__white;
				box-shadow: none;
				.feature__image {
					opacity: 1 !important;
				}
				.feature__content--title::after {
					background-color: $color__white;
				}
				.feature__read-more {
					border-color: $color__white;
				}
			}
			
			&__content {
				// .feature__content
				padding: $small-spacing $base-spacing;
				@include media(">=screen1170") {
					padding: 0;
				}
				
				&--title {
					// .feature__content--title
					@include paragraph();
					@include underlined();
					&::after {
						width: 100%;
					}
					
					@include media(">=screen768") {
						letter-spacing: 2px;
					}
				}
			}
			
			&__image {
				// .feature__image
				@include position(absolute, 0);
				opacity: 0 !important;
				transition: opacity $speed;
				@supports (object-fit: cover) {
					@include size(100%);
					min-height: 100%;
					object-fit: cover;
					@include media(">=screen1170") {
						height: 250px;
					}
				}
			}
			
			&__read-more {
				// feature__read-more
				border-top: 2px $color__yellow solid;
				font-weight: 400;
				text-align: right;
				margin-top: $small-spacing;
				padding-top: $small-spacing;
				transition: border-color $speed;
			}
			
			&__link {
				// .feature__link
				@include block-link();
			}
		}
	}
	
	&__about {
		// .homepage__about
		background: linear-gradient(to top left, $color__black 85%, $color__black--light);
		@include texture($color__black, 54, 1);
		color: $color__white;
		@include base-font-size();
		@include media(">=screen960") {
			display: flex;
			align-items: center;
		}
		
		&--image {
			// .homepage__about--image
			@include media(">=screen960") {
				flex: 0 0 33.33%;
				max-width: 33.33%;
			}
			@include media(">=screen1280") {
				flex-basis: 50%;
				max-width: 50%;
			}
		}
		
		&--content {
			// .homepage__about--content
			padding: $gutter;
			@include media(">=screen960") {
				flex: 0 0 66.67%;
				max-width: 66.67%;
				padding-left: $gutter * 2;
				padding-right: $gutter * 2;
			}
			@include media(">=screen1280") {
				flex-basis: 50%;
				max-width: 50%;
				padding-left: $gutter * 3;
				padding-right: $gutter * 3;
			}
			@include media(">=screen1920") {
				padding-left: $gutter * 4;
				padding-right: $gutter * 4;
			}
		}
	}
	
	&__dribbble {
		// .homepage__dribbble
		width: 100%;
		margin: 0 $gutter #{$gutter * 2};
		@include media(">=screen768") {
			margin-left: $gutter * 2;
			margin-right: $gutter * 2;
		}
		@include media(">=screen1024") {
			margin-left: $gutter * 3;
			margin-right: $gutter * 3;
		}
		@include media(">=screen1440") {
			margin-left: $gutter * 4;
			margin-right: $gutter * 4;
		}
		
		@supports (display: grid) {
			grid-column: span 4;
			width: auto;
		}
	}
	
	&__contact {
		// .homepage__contact
		width: 100%;
		margin: 0 $gutter #{$gutter * 2};
		@supports (display: grid) {
			grid-column: span 4;
			width: auto;
		}
		
		h2 {
			@include underlined();
		}
		
		p {
			padding-right: $gutter;
			@include media(">=screen600")  { padding-right: 20%; }
			@include media(">=screen840")  { padding-right: 30%; }
			@include media(">=screen1024") { padding-right: 40%; }
			@include media(">=screen1600") { padding-right: 50%; }
		}
	}
}

body.home {
	background-color: $color__yellow;
	background-image: none;
	color: $color__white;
	
	&.sidebar-primary {
		.site__sidebar {
//			background: linear-gradient(to bottom, $color__yellow--light 10%, $color__white);
			background: linear-gradient(to bottom right, $color__white 85%, $color__white--dark);
			color: $color__black;
		}
	}
}