/*
* === BLOG ===
*/

body.blog {
	position: relative;
	@include texture($color__white, 54, 0);
	margin-bottom: 2em;
	
	.posts {
		@supports (display: grid) {
			grid-column: span 4;
			width: auto;
			margin-left: $gutter;
			margin-right: $gutter;
		}
		
		&__banner {
			// .posts__banner
			position: relative;
			background-color: $color__white--dark;
			color: $color__white;
			text-align: left;
			@include size(100%, 300px);
			@include image-overlay();
			margin-bottom: $gutter;
			padding-left: $gutter;
			padding-right: $gutter;
			overflow: hidden;
			@include media(">=screen768") {
				height: 100vh;
				margin-bottom: $gutter * 2;
				padding-left: $gutter * 2;
				padding-right: $gutter * 2;
			}
			@include media(">=screen1024") {
				padding-left: $gutter * 3;
				padding-right: $gutter * 3;
			}
			@include media(">=screen1440") {
				padding-left: $gutter * 4;
				padding-right: $gutter * 4;
			}
			
			@supports (display: grid) {
				grid-column: span 4;
				display: grid;
				align-items: center;
				width: auto;
			}
			
			&--image {
				// .posts__banner--image
				transform: translateY(-25%);
				z-index: 0;
				
				@supports (object-fit: cover) {
					object-fit: cover;
					transform: translate(0);
				}
			}
			
			&--title {
				// .posts__banner--title
				@include text-shadow();
				h2 {
					@include title();
					margin-bottom: 0;
				}
			}
			
			&--contact {
				// .posts__banner--contact
				@include btn-contact();
			}
		}
		
		&__article {
			// .posts__article
			width: 100%;
			margin: $base-spacing 0 #{$gutter * 2};
			@include media(">=screen600")  {
				padding-right: 20%;
			}
			@include media(">=screen840")  { padding-right: 30%; }
			@include media(">=screen1024") { padding-right: 40%; }
			@include media(">=screen1600") { padding-right: 50%; }
		}
	}
	
	.type-post {
		position: relative;
		@include body-copy();
		@include size(100%, auto);
		min-height: 420px;
		margin-bottom: $base-spacing;
		overflow: hidden;
        @include media(">=screen768") {
			width: auto;
			margin-left: $gutter;
			margin-right: $gutter;
        }
		@include media(">=screen840") {
			@supports (display: flex) {
				display: flex;
				align-items: flex-end;
				justify-content: space-between;
			}
		}
		@include media(">=screen1024") {
			margin-left: $gutter * 2;
			margin-right: $gutter * 2;
		}
		@include media(">=screen1440") {
			margin-left: $gutter * 3;
			margin-right: $gutter * 3;
		}
		
		.post {
			
			&__content {
				// .post__content
				position: relative;
				margin-top: $base-spacing;
				@include media(">=screen840") {
					flex: 0 0 calc(40% - #{$gutter});
					max-width: calc(40% - #{$gutter});
					@include small-font-size();
					margin-top: 0;
					
					@supports (display: flex) {
						display: flex;
						flex-direction: column;
						justify-content: center;
					}
				}
				
				.meta {
					color: $color__gray--light;
					@include caption();
					text-align: center;
					margin-bottom: $small-spacing;
					
					& > *:not(.fa) {
						display: block;
						margin-bottom: $small-spacing;
					}
					
					.updated {
						@include visually-hidden();
					}
					
					@include media(">=screen840") {
						text-align: left;
						& > *:not(.fa) {
						}
					}
				}
			}
			
			&__title {
				// .post__title
				@include paragraph();
				@include media(">=screen840") {
					@include ellipsis();
					margin-bottom: $base-spacing;
				}
				@include media(">=screen1280") {
					@include subtitle();
				}
			}
			
			&__image {
				// .post__image
				background: $color__white--darker;
				overflow: hidden;
				@include media(">=screen840") {
					flex: 0 0 60%;
					max-width: 60%;
					@include box-shadow();
				}
				&--parallax {
					width: 60%;
					@include position(absolute, 0 null null 0);
					z-index: 0;
					@supports (object-fit: cover) {
						width: 60%;
						min-height: 100%;
						object-fit: cover;
					}
					
					@include media(">=screen840") {}
				}
			}
			
			&__link {
				// .post__link
				display: none;
				@include media(">=screen840") {}
			}
			
		}
		// Inverse odd/even layout
		@include media(">=screen840") {
			&:nth-child(even) {
				flex-direction: row-reverse;
//				.post__image {}
//				.post__content {}
			}
		}
	}
}